<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<TITLE>C GUI Toolkit Test Drive</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</HEAD>
<BODY>
<H1 ALIGN=CENTER>A Test Drive of Ten C GUI Toolkits</H1>
<P ALIGN=CENTER>Martin Guy<BR>&lt;martinwguy&#64;gmail.com></P>
<HR>
I need to pick a C GUI Toolkit for a project and
thought I'd try implementing some simple apps in a range
of them and see which came out shortest/easiest/best.

<H2>Summary</H2>
<TABLE border=1 rowpadding=1 cellspacing=1>
 <TR>
  <TH>Toolkit
  <TH>FPS
  <TH>Quality
  <TH>Remarks
 <TR>
  <TD>AGAR
  <TD>
  <TD>Nearest, buggy
  <TD>Buggy. Minimum window size of 32x32
 <TR>
  <TD>ELM
  <TD>
  <TD>Bilinear but jerky
  <TD>Shortest code length, of the ones that work
 <TR>
  <TD>EVAS
  <TD>
  <TD>Bilinear but jerky
  <TD>
 <TR>
  <TD>FLTK
  <TD>
  <TD>
  <TD>Not implemented yet
 <TR>
  <TD>GTK2
  <TD>
  <TD>Bilinear, sometimes pauses for minutes
  <TD>Old
 <TR>
  <TD>GTK3
  <TD>
  <TD>Bilinear, sometimes pauses for minutes
  <TD>Senile
 <TR>
  <TD>IUP
  <TD>
  <TD>Nearest, jumpy, sometimes pauses for seconds
  <TD>
 <TR>
  <TD>QT4
  <TD>
  <TD>
  <TD>Not fully implemented yet
 <TR>
  <TD>SDL1
  <TD>
  <TD>Bilinear with swscaler, OK but flickery
  <TD>
 <TR>
  <TD>SDL2
  <TD>
  <TD>Nearest, very fast
  <TD>
</TABLE>

<H2>Detail</H2>

<H3 name=AGAR>AGAR</H3>
<IMG ALIGN=RIGHT SRC="agar.png" WIDTH= HEIGHT=
     ALT="App window in AGAR on X">
A strange and rare GUI toolkit from PUC-Rio. You have to install it from
source code as it's not packaged in Debian/Ubuntu yet. The documentation
consists of a reference manual but the code needed to get things done
turns out to be refreshingly short. It compiles for Windows, Mac and Linux
and has libraries for vector graphics, math with optimised matrix and geometry,
audio output and threading (mutexes, object locking and wait/signal).
On Debian/Ubuntu you need to install it from the source code.
<P>
Its audio capabilities are limited to reading files into RAM with libsndfile and
spitting a buffer of samples at the audio output device, OK for going "boing".
<P>
Bugs/Features:
<UL>
 <LI>The menus don't close when you move off them or press Esc.
 <LI>On rare occasions it opens the image with its top left corner
in the center of the window.
 <LI>When resizing using a corner other than the bottom right one, it
     sometimes gets the image position wrong.
 <LI>The image-resizing speed is acceptable but it uses a poor resizing
     algorithm.
 <LI>The image is sometimes displayed skewed by 34 or 45 degrees or in greyscale.
 <LI>See the top of image-agar.c for even more bugs in AGAR.
     Since reporting some of these bugs weeks ago there has been no response
     or activity from its maintainer.
 <LI>Its sound-playing interface is a joke, good only for going "boing".
</UL>
Conclusion: Buggy abandonware.

<H3 name=ELM>ELM</H3>
<IMG ALIGN=RIGHT SRC="elm.png" WIDTH= HEIGHT=
     ALT="App window in ELM on X">
The "Elementary" GUI toolkit of the Enlightenment Foundation Libraries.
<P>
Despite big holes in the documentation and few examples,
the first example program was working in a couple of hours.
The second example, with a File-Open/Quit menu bar above the image, took
days to get right. Fast and robust once it's right.
<P>
The zoomed image is of superb quality (it looks like its algorithm is
the same as GTK's), zooming smoothly as the window is resized.
<P>
EFL's base-level audio library, Ecore_audio, is too limited.
"Emotion" instead wraps gstreamer, xine and vlc for audio/video playback
and even has the "I've just finished playing the last buffer" events we need.
Documentation/examples are almost nonexistent; you have to read the source.
The only available example audio-playing program needs e18, but Debian/Ubuntu
are still at e17.
<P>
Conclusion: An adolscent, as software goes: jolly clever, modern and pretty
but immature and difficult to work with.  Thanks to Tizen, it is set to become
the No.3 cellphone "Operating System" after iOS and Android.

<H3 name=EVAS>EVAS</H3>
<IMG ALIGN=RIGHT SRC="evas.png" WIDTH= HEIGHT=
     ALT="App window in Ecore_Evas on X">
The "Ecore_Evas" component of the Enlightenment Foundation Libraries,
a lower-level part of EFL giving just a drawing canvas and no widgets.
<P>
Conclusion: Getting it to work is a strange game.

<H3 name=FLTK>FLTK</H3>
Not implemented yet.

<H3 name=GTK2>GTK2</H3>
<IMG ALIGN=RIGHT SRC="gtk2.png" WIDTH= HEIGHT=
 ALT="App window in GTK2">
Old and crusty, detailed documentation, examples and wisdom
are abundant. I banged my head against GTK2 for two or three days before
succeeding in getting it to work. Despite its age, it is buggy.
<P>
The resized image quality is excellent, the speed acceptable but a little laggy.
You have rescale the image explicitly at every window resize in a callback.
<P>
Conclusion: Software of advanced age.

<H3 name=GTK3>GTK3</H3>
<IMG ALIGN=RIGHT SRC="gtk3.png" WIDTH= HEIGHT=
     ALT="App window in GTK3">
"The Even Bigger One". The "deprecated" window-sizing-strategy call that
we used in GTK2 to be able to shrink the window has now been removed.
The bizarre trick with GTK3 instead is to put the image in a rare kind of
invisible container.
<P>
GTK2 and 3 have a bug in common: if you scale an image down by a large factor,
the "wotsit tables" bloat out to 900MB of active RAM and it has a 100% CPU
epileptic fit lasting tens of seconds. The code here has workarounds for the
worst cases and a better workaround should appear from upstream sooner or later.
See https://bugzilla.gnome.org/show_bug.cgi?id=80925
<P>
Conclusion: Software of advanced age becoming senile.

<H3 name=IUP>IUP</H3>
<IMG ALIGN=RIGHT SRC="agar.png" WIDTH= HEIGHT=
     ALT="App window in IUP on the X Window System">
Another strange and rare GUI toolkit from PUC-Rio or, rather, a collection
of graphic libraries by different authors that stack to provide a GUI toolkit.
<P>
Bugs:
<UL>
 <LI>Its image-resizing down-scaler is of rough quality, producing sparkly
visible artifacts when resizing small.
 <LI>It is even more prone than GTK to going into paxoxysms of catatonic
100% CPU usage for tens of seconds at high image reductions.
</UL>
Audio: IUP doesn't have an audio layer of its own, so choose one!
<P>
Conclusion: Another elaborate joke from PUC-Rio!

<H3 name=QT4>QT4</H3>
<IMG ALIGN=RIGHT SRC="at4.png" WIDTH= HEIGHT=
     ALT="App window in QT4">
In C++. Short. Zooming doesn't work yet.

<H3 name=SDL1>SDL1.2</H3>
<IMG ALIGN=RIGHT SRC="sdl1.png" WIDTH= HEIGHT=
     ALT="App window in SDL 1.2">
SDL isn't a GUI toolkit; it's a drawing library. For the simple test program
it has the smallest code and the smallest executable.
If you want anything more, you have to draw everything yourself
and pilot it by keystrokes. SDL1 doesn't have an image scaler of its own,
so we use the swscaler library, which results in laggy operation.

<H3 name=SDL2>SDL2</H3>
<IMG ALIGN=RIGHT SRC="sdl2.png" WIDTH= HEIGHT=
     ALT="App window in SDL 2">
As above, except that it now has its own image scaler.
Its scaling is the fastest but its scaler is nearest-neighbour
so it goes sparkly at small sizes.
<HR>
Martin Guy &lt;martinwguy&#64;gmail.com>, November 2016.
</BODY>
</HTML>
